@import 'tippy.js/dist/tippy.css';
@import 'tippy.js/animations/shift-toward-subtle.css';

.ProseMirror {
  @apply min-h-[320px] w-full rounded-2xl border border-stone-200 bg-white/80 px-4 pb-6 pt-4 text-base leading-relaxed text-stone-800 shadow-sm dark:border-[#3e3e42] dark:bg-[#0f0f0f] dark:text-stone-100;
}

.ProseMirror p.is-empty::before {
  content: attr(data-placeholder);
  @apply pointer-events-none absolute ml-0.5 text-sm text-stone-400;
}

.ProseMirror:focus {
  @apply border-emerald-300 ring-4 ring-emerald-100/60 dark:border-emerald-500/60 dark:ring-emerald-500/10;
}

.d-block-button {
  @apply inline-flex h-8 w-8 items-center justify-center rounded-xl border border-stone-200 bg-white text-stone-500 transition dark:border-stone-700 dark:bg-stone-900 dark:text-stone-300;
}

.bubble-menu {
  @apply flex items-center gap-2 rounded-2xl border border-stone-200 bg-white/95 p-2 shadow-xl backdrop-blur dark:border-stone-700 dark:bg-stone-900;
}

.bubble-menu-button {
  @apply inline-flex h-8 items-center justify-center rounded-xl border border-transparent bg-stone-100 px-3 text-sm font-medium text-stone-700 transition hover:bg-stone-200 dark:bg-stone-800 dark:text-stone-200 dark:hover:bg-stone-700;
}

.bubble-menu-button.is-active {
  @apply bg-emerald-100 text-emerald-700 dark:bg-emerald-500/10 dark:text-emerald-300;
}

.ProseMirror table {
  border-collapse: collapse;
  table-layout: fixed;
  width: 100%;
  margin: 1rem 0;
}

.ProseMirror table td,
.ProseMirror table th {
  border: 2px solid #e5e7eb;
  padding: 0.35rem;
}

.ProseMirror .node-view-content > *:first-child {
  @apply mt-0;
}

.ProseMirror .node-view-content > *:last-child {
  @apply mb-0;
}

/* Make saved HTML wrappers safe */
[data-type='d-block'] {
  display: contents;
}

